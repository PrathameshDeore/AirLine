<body>
<app-navbar></app-navbar>
  
<div class="my-5 container formContainer">
    <h2 class="mb-4 text-center text-dark">Search Flight</h2>
    <form (ngSubmit)="onSubmit()" class="container">
        <div class="mb-3">
            <label for="startLoc" class="form-label">Start Location</label>
            <input type="text" [(ngModel)]="startLoc" class="form-control" id="startLoc" name="startLoc">
        </div>
        <div class="mb-3">
            <label for="endLoc" class="form-label">End Location</label>
            <input type="text" class="form-control" id="endLoc" name="endLoc" [(ngModel)]="endLoc">
        </div>
        <div class="mb-3">
            <label for="startDate" class="form-label">Journey Date</label>
            <input type="date" [min]="currentDate" class="form-control" id="startDate" name="startDate"
                [(ngModel)]="startDate">
        </div>
        <button type="submit" class="btn btn-primary">Search Flights</button>
    </form>
</div>


<div class="container">
    <table *ngIf="resultArray!=null && resultArray.length>0" class="table table-striped table-bordered">
        <thead>
            <tr>
                <th>Airline</th>
                <th>Starting Point</th>
                <th>End Point</th>
                <th>Start Time</th>
                <th>Economy Class Price</th>
                <th>Business Class Price</th>
                <th>Economy Seats Available</th>
                <th>Business Seats Available</th>
                <th>Book</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let row of resultArray">
                <td>{{row.airlineName}}</td>
                <td>{{row.startLoc}}</td>
                <td>{{row.endLoc}}</td>
                <td>{{row.startTime}}</td>
                <td>{{row.eClassPrice}}</td>
                <td>{{row.bClassPrice}}</td>
                <td>{{row.eClassAvailableSeats}}</td>
                <td>{{row.bClassAvailableSeats}}</td>
                <td><button class="btn btn-sm btn-primary" (click)="bookBtn(row.journeyId)">Book</button></td>
            </tr>
        </tbody>
      </table>
</div>
</body>
<app-footer></app-footer>